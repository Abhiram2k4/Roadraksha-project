<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Road Raksha - Authority Registration</title>
    <link href="https://fonts.googleapis.com" rel="preconnect"/>
    <link crossorigin="" href="https://fonts.gstatic.com" rel="preconnect"/>
    <link href="https://fonts.googleapis.com/css2?family=Public+Sans:wght@400;500;700;900&display=swap" rel="stylesheet"/>
    <link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap" rel="stylesheet"/>
    
    <style>
        :root {
            --primary: #137fec;
            --primary-light: rgba(19, 127, 236, 0.1);
            --bg-light: #f6f7f8;
            --bg-white: #ffffff;
            --text-dark: #111418;
            --text-muted: #617589;
            --border-color: #dbe0e6;
            --font-family: "Public Sans", sans-serif;
            --radius: 0.5rem;
            --hero-bg-color: #101922;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: var(--font-family);
            background-color: var(--bg-light);
            color: var(--text-dark);
            min-height: 100vh;
            display: flex;
            flex-direction: column;
        }

        /* Header */
        header {
            display: flex;
            align-items: center;
            justify-content: space-between;
            padding: 0.75rem 2.5rem;
            background-color: var(--bg-white);
            border-bottom: 1px solid #f0f2f4;
            position: sticky;
            top: 0;
            z-index: 50;
        }

        .logo-container {
            display: flex;
            align-items: center;
            gap: 1rem;
            color: var(--text-dark);
        }

        .logo-icon {
            width: 2rem;
            height: 2rem;
            color: var(--primary);
        }

        .logo-text {
            font-size: 1.25rem;
            font-weight: 700;
        }

        .header-actions {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .header-note {
            font-size: 0.875rem;
            font-weight: 500;
            color: var(--text-muted);
            display: none;
        }

        @media (min-width: 768px) {
            .header-note { display: block; }
        }

        .btn-login {
            display: flex;
            align-items: center;
            justify-content: center;
            height: 2.5rem;
            padding: 0 1rem;
            border-radius: var(--radius);
            background-color: var(--primary-light);
            color: var(--primary);
            font-size: 0.875rem;
            font-weight: 700;
            border: none;
            cursor: pointer;
            transition: background-color 0.2s;
        }

        .btn-login:hover {
            background-color: rgba(19, 127, 236, 0.2);
        }

        /* Main Layout */
        main {
            flex: 1;
            display: flex;
            flex-direction: column;
        }

        @media (min-width: 1024px) {
            main { flex-direction: row; }
        }

        /* Left Column */
        .form-section {
            flex: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 1.5rem;
            background-color: var(--bg-white);
        }

        @media (min-width: 1024px) {
            .form-section { padding: 3rem; }
        }

        .form-wrapper {
            width: 100%;
            max-width: 520px;
            display: flex;
            flex-direction: column;
            gap: 2rem;
        }

        .page-heading h1 {
            font-size: 2.25rem;
            font-weight: 900;
            line-height: 1.1;
            margin-bottom: 0.75rem;
            color: var(--text-dark);
        }

        .page-heading p {
            font-size: 1rem;
            color: var(--text-muted);
        }

        /* Form Elements */
        form {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }

        .input-group {
            display: flex;
            flex-direction: column;
            gap: 0.75rem;
        }

        .label {
            font-size: 1rem;
            font-weight: 500;
            color: var(--text-dark);
        }

        /* Radio Grid */
        .radio-grid {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 1rem;
        }

        .radio-option {
            cursor: pointer;
            position: relative;
        }

        .radio-input {
            position: absolute;
            width: 0;
            height: 0;
            opacity: 0;
        }

        .radio-card {
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            gap: 0.5rem;
            padding: 1rem;
            border-radius: 0.75rem;
            border: 1px solid var(--border-color);
            background-color: var(--bg-white);
            color: var(--text-muted);
            transition: all 0.2s;
        }

        .radio-input:checked + .radio-card {
            border: 2px solid var(--primary);
            background-color: var(--primary-light);
            color: var(--primary);
        }

        .radio-icon { font-size: 2rem; }
        .radio-text { font-size: 0.875rem; font-weight: 700; }
        
        .check-icon {
            position: absolute;
            top: 0.75rem;
            right: 0.75rem;
            font-size: 1.25rem;
            color: var(--primary);
            display: none;
        }

        .radio-input:checked ~ .check-icon { display: block; }

        /* Text Inputs */
        .input-wrapper {
            position: relative;
        }

        .form-input {
            width: 100%;
            height: 3.5rem;
            padding: 0 2.5rem 0 1rem;
            border-radius: var(--radius);
            border: 1px solid var(--border-color);
            background-color: var(--bg-white);
            font-size: 1rem;
            font-family: inherit;
            color: var(--text-dark);
            transition: border-color 0.2s;
        }

        .form-input:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 1px var(--primary);
        }

        .input-icon-right {
            position: absolute;
            right: 1rem;
            top: 50%;
            transform: translateY(-50%);
            color: var(--text-muted);
            pointer-events: none;
        }

        .password-toggle {
            pointer-events: auto;
            cursor: pointer;
            background: none;
            border: none;
            display: flex;
            align-items: center;
        }

        .password-toggle:hover { color: var(--text-dark); }

        .helper-text {
            font-size: 0.75rem;
            color: var(--text-muted);
            margin-top: 0.25rem;
        }

        .btn-submit {
            width: 100%;
            height: 3rem;
            border-radius: var(--radius);
            background-color: var(--primary);
            color: white;
            font-size: 1rem;
            font-weight: 700;
            border: none;
            cursor: pointer;
            transition: background-color 0.2s;
            margin-top: 0.5rem;
        }

        .btn-submit:hover {
            background-color: #116ecf;
        }

        /* Verification Box */
        .verification-box {
            background-color: #eff6ff;
            border: 1px solid #dbeafe;
            border-radius: var(--radius);
            padding: 1rem;
            display: flex;
            gap: 0.75rem;
            align-items: start;
        }

        .verification-icon {
            color: var(--primary);
            font-size: 1.5rem;
        }

        .verification-content h3 {
            font-size: 0.875rem;
            font-weight: 700;
            color: var(--text-dark);
            margin-bottom: 0.25rem;
        }

        .verification-content p {
            font-size: 0.875rem;
            color: var(--text-muted);
            line-height: 1.5;
        }

        /* Subtle Footer */
        .simple-footer {
            margin-top: 1rem;
            text-align: center;
            padding-bottom: 1rem;
        }

        .simple-footer p {
            font-size: 0.75rem;
            color: var(--text-muted);
            opacity: 0.6;
        }

        /* Right Column (Hero) */
        .hero-section {
            display: none;
            flex: 1;
            position: relative;
            background-color: var(--hero-bg-color);
            overflow: hidden;
        }

        @media (min-width: 1024px) {
            .hero-section { display: flex; }
        }

        .hero-overlay {
            position: absolute;
            inset: 0;
            background: linear-gradient(to bottom right, rgba(19, 127, 236, 0.4), rgba(16, 25, 34, 0.9));
        }

        .hero-content {
            position: relative;
            z-index: 10;
            display: flex;
            flex-direction: column;
            justify-content: center; /* CHANGED from flex-end to center */
            padding: 4rem;
            width: 100%;
            max-width: 42rem;
            margin: 0 auto;
            color: white;
            height: 100%; /* Ensures it takes up height to center properly */
        }

        .hero-icon-box {
            display: inline-flex;
            padding: 0.75rem;
            border-radius: 0.75rem;
            background-color: rgba(255, 255, 255, 0.1);
            backdrop-filter: blur(12px);
            border: 1px solid rgba(255, 255, 255, 0.2);
            margin-bottom: 1.5rem;
        }

        .hero-title {
            font-size: 2.25rem;
            font-weight: 900;
            line-height: 1.1;
            margin-bottom: 1rem;
        }

        .hero-desc {
            font-size: 1.125rem;
            color: #bfdbfe;
            line-height: 1.6;
            margin-bottom: 2.5rem;
        }

        .stats-row {
            display: flex;
            gap: 2rem;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            padding-top: 2rem;
        }

        .stat-item p:first-child {
            font-size: 1.5rem;
            font-weight: 700;
        }

        .stat-item p:last-child {
            font-size: 0.875rem;
            color: #bfdbfe;
        }

        .material-symbols-outlined {
            font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24;
        }
        .fill-1 {
            font-variation-settings: 'FILL' 1;
        }
    </style>
</head>
<body>

    <header>
        <div class="logo-container">
            <div class="logo-icon">
                <svg width="100%" height="100%" viewBox="0 0 48 48" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M8.57829 8.57829C5.52816 11.6284 3.451 15.5145 2.60947 19.7452C1.76794 23.9758 2.19984 28.361 3.85056 32.3462C5.50128 36.3314 8.29667 39.7376 11.8832 42.134C15.4698 44.5305 19.6865 45.8096 24 45.8096C28.3135 45.8096 32.5302 44.5305 36.1168 42.134C39.7033 39.7375 42.4987 36.3314 44.1494 32.3462C45.8002 28.361 46.2321 23.9758 45.3905 19.7452C44.549 15.5145 42.4718 11.6284 39.4217 8.57829L24 24L8.57829 8.57829Z" fill="currentColor"/>
                </svg>
            </div>
            <span class="logo-text">Road Raksha</span>
        </div>
        <div class="header-actions">
            <span class="header-note">Already have an account?</span>
            <a href="{% url 'authlogin'%}" style="text-decoration: none;"><button class="btn-login">Login</button></a>
        </div>
    </header>

    <main>
        <section class="form-section">
            <div class="form-wrapper">
                <div class="page-heading">
                    <h1>Create Authority Account</h1>
                    <p>Join Road Raksha to manage infrastructure reports. Select your department and submit your credentials.</p>
                </div>
                {% if messages %}
                  {% for message in messages %}
                    <div style="color: red; text-transform: uppercase;">
                    {{ message }}
                    </div>
                  {% endfor %}
                {% endif %}


                <form method="POST">
                    {% csrf_token %}

                    <div class="input-group">
                        <label class="label">Authority Type</label>
                        <div class="radio-grid">
                            <label class="radio-option">
                                <input type="radio" name="authority_type" class="radio-input" value="ROAD" checked>
                                <div class="radio-card">
                                    <span class="material-symbols-outlined radio-icon">add_road</span>
                                    <span class="radio-text">Road Authority</span>
                                </div>
                                <span class="material-symbols-outlined check-icon fill-1">check_circle</span>
                            </label>

                            <label class="radio-option">
                                <input type="radio" name="authority_type" class="radio-input" value="WATER">
                                <div class="radio-card">
                                    <span class="material-symbols-outlined radio-icon">water_drop</span>
                                    <span class="radio-text">Water Authority</span>
                                </div>
                                <span class="material-symbols-outlined check-icon fill-1">check_circle</span>
                            </label>
                        </div>
                    </div>

                    <div class="input-group">
                        <label class="label">Username</label>
                        <div class="input-wrapper">
                            <input type="text" class="form-input" name="username" placeholder="Enter your official username">
                            <span class="material-symbols-outlined input-icon-right">person</span>
                        </div>
                    </div>

                    <div class="input-group">
                        <label class="label">Official Email</label>
                        <div class="input-wrapper">
                            <input type="email" class="form-input" name="email" placeholder="name@department.gov">
                            <span class="material-symbols-outlined input-icon-right">mail</span>
                        </div>
                    </div>

                    <div class="input-group">
                        <label class="label">Password</label>
                        <div class="input-wrapper">
                            <input type="password" class="form-input" id="passwordInput" name="password" placeholder="Create a secure password">
                            <button type="button" class="password-toggle input-icon-right" id="togglePassword">
                                <span class="material-symbols-outlined">visibility</span>
                            </button>
                        </div>
                        <p class="helper-text">Must be at least 8 characters long.</p>
                    </div>

                    <button class="btn-submit" type="submit">Register Account</button>
                </form>

                <div class="verification-box">
                    <span class="material-symbols-outlined verification-icon">admin_panel_settings</span>
                    <div class="verification-content">
                        <h3>Verification Required</h3>
                        <p>To ensure platform security, your account will be pending approval. A Super Admin must verify your official credentials before you can access the dashboard.</p>
                    </div>
                </div>

                <footer class="simple-footer">
                    <p>Â© 2025 Road Raksha Authority. All rights reserved.</p>
                </footer>
            </div>
        </section>

        <section class="hero-section">
            <div class="hero-overlay"></div>
            
            <div class="hero-content">
                <div class="mb-10">
                    <div class="hero-icon-box">
                        <span class="material-symbols-outlined" style="font-size: 2rem;">map</span>
                    </div>
                    <h1 class="hero-title">Empowering Authorities for Safer Roads</h1>
                    <p class="hero-desc">Streamline pothole reporting and water issue management with real-time geolocation data. Connect directly with citizens to improve city infrastructure efficiently.</p>
                </div>

                <div class="stats-row">
                    <div class="stat-item">
                        <p>24/7</p>
                        <p>Monitoring</p>
                    </div>
                    <div class="stat-item">
                        <p>Real-time</p>
                        <p>Geo-tagging</p>
                    </div>
                    <div class="stat-item">
                        <p>Secure</p>
                        <p>Govt. Portal</p>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            const toggleBtn = document.getElementById('togglePassword');
            const passwordInput = document.getElementById('passwordInput');
            const icon = toggleBtn.querySelector('span');

            toggleBtn.addEventListener('click', () => {
                const type = passwordInput.getAttribute('type') === 'password' ? 'text' : 'password';
                passwordInput.setAttribute('type', type);
                icon.textContent = type === 'password' ? 'visibility' : 'visibility_off';
            });
        });
    </script>
</body>
</html>